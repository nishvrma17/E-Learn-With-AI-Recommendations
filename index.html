<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LearnHub - E-Learning Platform</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #4361ee;
            --secondary: #3f37c9;
            --success: #4cc9f0;
            --light: #f8f9fa;
            --dark: #212529;
            --gray: #6c757d;
            --light-gray: #e9ecef;
            --card-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        .dark-mode {
            --primary: #4895ef;
            --secondary: #4361ee;
            --light: #121212;
            --dark: #f8f9fa;
            --gray: #adb5bd;
            --light-gray: #2d2d2d;
            --card-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--light);
            color: var(--dark);
            transition: var(--transition);
            line-height: 1.6;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header Styles */
        header {
            background-color: var(--primary);
            color: white;
            padding: 1rem 0;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.5rem;
            font-weight: 700;
            cursor: pointer;
        }

        .logo i {
            font-size: 1.8rem;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 20px;
        }

        nav a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            padding: 5px 10px;
            border-radius: 4px;
            transition: var(--transition);
            cursor: pointer;
        }

        nav a:hover, nav a.active {
            background-color: rgba(255, 255, 255, 0.2);
        }

        .auth-buttons {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            transition: var(--transition);
        }

        .btn-outline {
            background: transparent;
            border: 1px solid white;
            color: white;
        }

        .btn-primary {
            background-color: var(--secondary);
            color: white;
        }

        .btn-outline:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .btn-primary:hover {
            background-color: #3a0ca3;
        }

        .theme-toggle {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            margin-left: 15px;
        }

        /* Hero Section */
        .hero {
            padding: 4rem 0;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            text-align: center;
        }

        .hero h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .hero p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto 2rem;
        }

        .search-bar {
            max-width: 600px;
            margin: 0 auto;
            display: flex;
        }

        .search-bar input {
            flex: 1;
            padding: 12px 15px;
            border: none;
            border-radius: 4px 0 0 4px;
            font-size: 1rem;
        }

        .search-bar button {
            padding: 0 20px;
            background-color: var(--success);
            color: white;
            border: none;
            border-radius: 0 4px 4px 0;
            cursor: pointer;
        }

        /* Main Content */
        main {
            padding: 3rem 0;
        }

        .section-title {
            margin-bottom: 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .section-title h2 {
            font-size: 1.8rem;
            color: var(--primary);
        }

        .view-all {
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
        }

        /* Course Grid */
        .courses-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 3rem;
        }

        .course-card {
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--card-shadow);
            transition: var(--transition);
        }

        .dark-mode .course-card {
            background-color: var(--light-gray);
        }

        .course-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
        }

        .course-image {
            height: 160px;
            background-color: var(--light-gray);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-size: 3rem;
        }

        .course-content {
            padding: 20px;
        }

        .course-category {
            display: inline-block;
            background-color: var(--light-gray);
            color: var(--gray);
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            margin-bottom: 10px;
        }

        .course-title {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: var(--dark);
        }

        .course-info {
            display: flex;
            justify-content: space-between;
            color: var(--gray);
            font-size: 0.9rem;
            margin-bottom: 15px;
        }

        .progress-bar {
            height: 6px;
            background-color: var(--light-gray);
            border-radius: 3px;
            margin-bottom: 15px;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background-color: var(--success);
            border-radius: 3px;
        }

        .course-actions {
            display: flex;
            justify-content: space-between;
        }

        /* Dashboard */
        .dashboard {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
        }

        .progress-stats {
            background-color: white;
            border-radius: 8px;
            padding: 25px;
            box-shadow: var(--card-shadow);
        }

        .dark-mode .progress-stats {
            background-color: var(--light-gray);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-top: 20px;
        }

        .stat-card {
            text-align: center;
            padding: 20px;
            border-radius: 8px;
            background-color: var(--light-gray);
        }

        .stat-card i {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 10px;
        }

        .stat-card h3 {
            font-size: 1.8rem;
            margin-bottom: 5px;
        }

        .badges {
            background-color: white;
            border-radius: 8px;
            padding: 25px;
            box-shadow: var(--card-shadow);
        }

        .dark-mode .badges {
            background-color: var(--light-gray);
        }

        .badges-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .badge {
            text-align: center;
            padding: 15px 10px;
            border-radius: 8px;
            background-color: var(--light-gray);
        }

        .badge i {
            font-size: 1.8rem;
            color: gold;
            margin-bottom: 10px;
        }

        /* AI Recommendations */
        .ai-recommendations {
            margin-top: 3rem;
        }

        .recommendation-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .recommendation-header i {
            color: var(--success);
            font-size: 1.5rem;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: white;
            border-radius: 8px;
            width: 90%;
            max-width: 500px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .dark-mode .modal-content {
            background-color: var(--light-gray);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--gray);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-group input {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid var(--light-gray);
            border-radius: 4px;
            font-size: 1rem;
        }

        .dark-mode .form-group input {
            background-color: var(--light);
            color: var(--dark);
            border-color: var(--gray);
        }

        /* Quiz Styles */
        .quiz-container {
            background-color: white;
            border-radius: 8px;
            padding: 25px;
            box-shadow: var(--card-shadow);
            margin-top: 2rem;
        }

        .dark-mode .quiz-container {
            background-color: var(--light-gray);
        }

        .quiz-question {
            margin-bottom: 40px;
            padding: 20px;
            border: 1px solid var(--light-gray);
            border-radius: 8px;
        }

        .quiz-options {
            list-style: none;
            margin-top: 15px;
        }

        .quiz-options li {
            margin-bottom: 10px;
            padding: 12px 15px;
            background-color: var(--light-gray);
            border-radius: 4px;
            cursor: pointer;
            transition: var(--transition);
        }

        .quiz-options li:hover {
            background-color: #d3d3d3;
        }

        .dark-mode .quiz-options li:hover {
            background-color: #3d3d3d;
        }

        .quiz-options li.selected {
            background-color: var(--primary);
            color: white;
        }

        .quiz-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        /* Course Content */
        .course-content-page {
            display: none;
        }

        .course-header {
            background-color: var(--primary);
            color: white;
            padding: 2rem 0;
            margin-bottom: 2rem;
        }

        .course-lessons {
            display: grid;
            grid-template-columns: 1fr 3fr;
            gap: 30px;
        }

        .lessons-sidebar {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: var(--card-shadow);
            height: fit-content;
        }

        .dark-mode .lessons-sidebar {
            background-color: var(--light-gray);
        }

        .lesson-item {
            padding: 12px 15px;
            border-bottom: 1px solid var(--light-gray);
            cursor: pointer;
            transition: var(--transition);
        }

        .lesson-item:hover {
            background-color: var(--light-gray);
        }

        .lesson-item.active {
            background-color: var(--primary);
            color: white;
            border-radius: 4px;
        }

        .lesson-content {
            background-color: white;
            border-radius: 8px;
            padding: 30px;
            box-shadow: var(--card-shadow);
            min-height: 500px;
            position: relative;
        }

        .dark-mode .lesson-content {
            background-color: var(--light-gray);
        }

        .lesson-content h2 {
            margin-bottom: 20px;
            color: var(--primary);
        }

        .lesson-content p {
            margin-bottom: 15px;
        }

        .lesson-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            position: absolute;
            bottom: 30px;
            left: 30px;
            right: 30px;
        }

        .back-to-courses {
            margin-bottom: 20px;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--primary);
            cursor: pointer;
            font-weight: 500;
        }

        /* Footer */
        footer {
            background-color: var(--dark);
            color: white;
            padding: 3rem 0 2rem;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 30px;
        }

        .footer-column h3 {
            margin-bottom: 20px;
            font-size: 1.2rem;
        }

        .footer-column ul {
            list-style: none;
        }

        .footer-column ul li {
            margin-bottom: 10px;
        }

        .footer-column a {
            color: var(--gray);
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-column a:hover {
            color: white;
        }

        .copyright {
            text-align: center;
            margin-top: 3rem;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--gray);
        }

        /* Mobile Responsiveness */
        @media (max-width: 992px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .footer-content {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .course-lessons {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 15px;
            }
            
            nav ul {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .courses-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
            
            .stats-grid, .badges-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 576px) {
            .hero h1 {
                font-size: 2rem;
            }
            
            .courses-grid {
                grid-template-columns: 1fr;
            }
            
            .stats-grid, .badges-grid {
                grid-template-columns: 1fr;
            }
            
            .footer-content {
                grid-template-columns: 1fr;
            }
        }

        /* Progress Container Styles */
.progress-container {
    margin-bottom: 15px;
}

.progress-info {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 5px;
    font-size: 0.85rem;
    color: var(--gray);
}

.progress-bar {
    height: 6px;
    background-color: var(--light-gray);
    border-radius: 3px;
    overflow: hidden;
}

.progress {
    height: 100%;
    background-color: var(--success);
    border-radius: 3px;
    transition: width 0.3s ease;
}

/* Course completion states */
.course-card.completed .progress {
    background-color: #28a745;
}

.course-card.in-progress .progress {
    background-color: var(--success);
}

.course-card.not-started .progress {
    background-color: var(--light-gray);
}
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo" id="homeBtn">
                    <i class="fas fa-graduation-cap"></i>
                    <span>LearnHub</span>
                </div>
                <nav>
                    <ul>
                        <li><a href="#" class="active" id="homeNav">Home</a></li>
                        <li><a href="#" id="coursesNav">Courses</a></li>
                        <li><a href="#" id="dashboardNav">Dashboard</a></li>
                        <li><a href="#" id="aboutNav">About</a></li>
                    </ul>
                </nav>
                <div class="auth-buttons">
                    <button class="btn btn-outline" id="loginBtn">Login</button>
                    <button class="btn btn-primary" id="signupBtn">Sign Up</button>
                    <button class="theme-toggle" id="themeToggle">
                        <i class="fas fa-moon"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1>Expand Your Knowledge with Our Courses</h1>
            <p>Access 15+ expertly designed courses across various subjects. Learn at your own pace and track your progress.</p>
            <div class="search-bar">
                <input type="text" placeholder="Search for courses...">
                <button><i class="fas fa-search"></i></button>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main class="container">
        <!-- Dashboard Section (Only for logged in users) -->
        <section id="dashboard" style="display: none;">
            <div class="section-title">
                <h2>Your Learning Dashboard</h2>
                <a href="#" class="view-all">View All Progress</a>
            </div>
            <div class="dashboard">
                <div class="progress-stats">
                    <h3>Learning Progress</h3>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <i class="fas fa-book-open"></i>
                            <h3 id="enrolledCount">0</h3>
                            <p>Courses Enrolled</p>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-check-circle"></i>
                            <h3 id="completedCount">0</h3>
                            <p>Courses Completed</p>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-clock"></i>
                            <h3 id="hoursLearned">0</h3>
                            <p>Hours Learned</p>
                        </div>
                    </div>
                </div>
                <div class="badges">
                    <h3>Your Badges</h3>
                    <div class="badges-grid" id="badgesContainer">
                        <!-- Badges will be populated here when earned -->
                        <div class="badge-placeholder">
                            <p>Complete courses to earn badges</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- AI Recommendations -->
        <section class="ai-recommendations">
            <div class="section-title">
                <div class="recommendation-header">
                    <i class="fas fa-robot"></i>
                    <h2>AI Recommended For You</h2>
                </div>
                <a href="#" class="view-all">See All</a>
            </div>
            <div class="courses-grid" id="recommendedCourses">
                <!-- AI recommended courses will be populated here -->
            </div>
        </section>

        <!-- All Courses -->
        <section id="allCoursesSection">
            <div class="section-title">
                <h2>All Courses</h2>
                <a href="#" class="view-all">View All</a>
            </div>
            <div class="courses-grid" id="allCourses">
                <!-- All courses will be populated here -->
            </div>
        </section>
    </main>

    <!-- Login Modal -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Login to Your Account</h2>
                <button class="close-modal">&times;</button>
            </div>
            <form id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Login</button>
            </form>
            <p style="text-align: center; margin-top: 15px;">Don't have an account? <a href="#" id="switchToSignup">Sign up</a></p>
        </div>
    </div>

    <!-- Signup Modal -->
    <div class="modal" id="signupModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Create an Account</h2>
                <button class="close-modal">&times;</button>
            </div>
            <form id="signupForm">
                <div class="form-group">
                    <label for="signupName">Full Name</label>
                    <input type="text" id="signupName" required>
                </div>
                <div class="form-group">
                    <label for="signupEmail">Email</label>
                    <input type="email" id="signupEmail" required>
                </div>
                <div class="form-group">
                    <label for="signupPassword">Password</label>
                    <input type="password" id="signupPassword" required>
                </div>
                <div class="form-group">
                    <label for="signupInterests">Interests (comma separated)</label>
                    <input type="text" id="signupInterests" placeholder="e.g., Web Development, Data Science, Design">
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Sign Up</button>
            </form>
            <p style="text-align: center; margin-top: 15px;">Already have an account? <a href="#" id="switchToLogin">Login</a></p>
        </div>
    </div>

    <!-- Course Content Page (Hidden by default) -->
    <section class="course-content-page" id="courseContentPage">
        <div class="course-header">
            <div class="container">
                <div class="back-to-courses" id="backToCoursesBtn">
                    <i class="fas fa-arrow-left"></i>
                    <span>Back to Courses</span>
                </div>
                <h1 id="courseTitle">Course Title</h1>
                <p id="courseDescription">Course description will appear here</p>
                <div class="progress-bar">
                    <div class="progress" id="courseProgressBar" style="width: 0%;"></div>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="course-lessons">
                <div class="lessons-sidebar">
                    <h3>Course Content</h3>
                    <div id="lessonsList">
                        <!-- Lessons will be populated here -->
                    </div>
                </div>
                <div class="lesson-content">
                    <h2 id="lessonTitle">Welcome to the Course</h2>
                    <div id="lessonMaterial">
                        <!-- Lesson content will be populated here -->
                    </div>
                    <div class="lesson-navigation">
                        <button class="btn btn-outline" id="prevLessonBtn" style="display: none;">Previous Lesson</button>
                        <button class="btn btn-primary" id="nextLessonBtn">Next Lesson</button>
                    </div>
                </div>
            </div>
            
            <!-- Quiz Section -->
            <div class="quiz-container" id="quizContainer" style="display: none;">
                <h2>Course Quiz</h2>
                <p>Test your knowledge with this 5-question quiz. You need to score at least 80% to pass.</p>
                
                <div id="quizContent">
                    <!-- Quiz questions will be populated here -->
                </div>
                
                <div class="quiz-navigation">
                    <button class="btn btn-primary" id="submitQuizBtn" disabled>Submit Quiz</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>LearnHub</h3>
                    <p>Your gateway to knowledge and skill development through expertly designed online courses.</p>
                </div>
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="#" class="footer-nav" data-target="home">Home</a></li>
                        <li><a href="#" class="footer-nav" data-target="courses">Courses</a></li>
                        <li><a href="#" class="footer-nav" data-target="dashboard">Dashboard</a></li>
                        <li><a href="#" class="footer-nav" data-target="about">About</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Support</h3>
                    <ul>
                        <li><a href="#">Help Center</a></li>
                        <li><a href="#">Contact Us</a></li>
                        <li><a href="#">FAQ</a></li>
                        <li><a href="#">Community</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Connect With Us</h3>
                    <ul>
                        <li><a href="#"><i class="fab fa-facebook"></i> Facebook</a></li>
                        <li><a href="#"><i class="fab fa-twitter"></i> Twitter</a></li>
                        <li><a href="#"><i class="fab fa-linkedin"></i> LinkedIn</a></li>
                        <li><a href="#"><i class="fab fa-instagram"></i> Instagram</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2023 LearnHub. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Sample course data
        const courses = [
            {
                id: 1,
                title: "Introduction to HTML",
                category: "Web Development",  
                description: "Learn the fundamentals of HTML and build your first web page.",
                duration: "4 hours",
                lessons: 6,
                progress: 0,
                icon: "fab fa-html5",
                color: "#e34c26"
            },
            {
                id: 2,
                title: "Advanced CSS Techniques",
                category: "Web Development",
                description: "Master advanced CSS concepts including Flexbox, Grid, and animations.",
                duration: "6 hours",
                lessons: 8,
                progress: 0,
                icon: "fab fa-css3-alt",
                color: "#264de4"
            },
            {
                id: 3,
                title: "JavaScript Basics",
                category: "Programming",
                description: "Get started with JavaScript programming from the ground up.",
                duration: "8 hours",
                lessons: 10,
                progress: 0,
                icon: "fab fa-js",
                color: "#f0db4f"
            },
            {
                id: 4,
                title: "DOM Manipulation and Events",
                category: "Web Development",
                description: "Learn how to manipulate the DOM and handle user events in JavaScript.",
                duration: "5 hours",
                lessons: 7,
                progress: 0,
                icon: "fas fa-code",
                color: "#61dafb"
            },
            {
                id: 5,
                title: "Introduction to ReactJS",
                category: "Web Development",
                description: "Build modern web applications with the React library.",
                duration: "10 hours",
                lessons: 12,
                progress: 0,
                icon: "fab fa-react",
                color: "#61dafb"
            },
            {
                id: 6,
                title: "Python for Beginners",
                category: "Programming",
                description: "Learn Python programming fundamentals with practical examples.",
                duration: "12 hours",
                lessons: 14,
                progress: 0,
                icon: "fab fa-python",
                color: "#3776ab"
            },
            {
                id: 7,
                title: "Data Structures in JavaScript",
                category: "Computer Science",
                description: "Understand and implement common data structures using JavaScript.",
                duration: "9 hours",
                lessons: 11,
                progress: 0,
                icon: "fas fa-project-diagram",
                color: "#8a2be2"
            },
            {
                id: 8,
                title: "Basics of Machine Learning",
                category: "Data Science",
                description: "Introduction to machine learning concepts and algorithms.",
                duration: "14 hours",
                lessons: 16,
                progress: 0,
                icon: "fas fa-brain",
                color: "#ff6b6b"
            },
            {
                id: 9,
                title: "Cybersecurity Essentials",
                category: "Security",
                description: "Learn the fundamentals of cybersecurity and best practices.",
                duration: "7 hours",
                lessons: 9,
                progress: 0,
                icon: "fas fa-shield-alt",
                color: "#4ecdc4"
            },
            {
                id: 10,
                title: "Cloud Computing Fundamentals",
                category: "Cloud",
                description: "Understand cloud computing concepts and major providers.",
                duration: "6 hours",
                lessons: 8,
                progress: 0,
                icon: "fas fa-cloud",
                color: "#ff9f1c"
            },
            {
                id: 11,
                title: "Git and GitHub Crash Course",
                category: "Tools",
                description: "Master version control with Git and collaborate using GitHub.",
                duration: "4 hours",
                lessons: 6,
                progress: 0,
                icon: "fab fa-git-alt",
                color: "#f1502f"
            },
            {
                id: 12,
                title: "SQL and Database Management",
                category: "Database",
                description: "Learn SQL fundamentals and database design principles.",
                duration: "8 hours",
                lessons: 10,
                progress: 0,
                icon: "fas fa-database",
                color: "#336791"
            },
            {
                id: 13,
                title: "Artificial Intelligence Overview",
                category: "AI",
                description: "Explore the world of AI and its real-world applications.",
                duration: "5 hours",
                lessons: 7,
                progress: 0,
                icon: "fas fa-robot",
                color: "#00b4d8"
            },
            {
                id: 14,
                title: "UI/UX Design Principles",
                category: "Design",
                description: "Learn the fundamentals of user interface and experience design.",
                duration: "6 hours",
                lessons: 8,
                progress: 0,
                icon: "fas fa-palette",
                color: "#7209b7"
            },
            {
                id: 15,
                title: "Web Performance Optimization",
                category: "Web Development",
                description: "Techniques to make your websites faster and more efficient.",
                duration: "5 hours",
                lessons: 7,
                progress: 0,
                icon: "fas fa-tachometer-alt",
                color: "#06d6a0"
            }
        ];

        // Sample quiz data
const quizzes = {
    1: [
        {
            question: "What does HTML stand for?",
            options: [
                "Hyper Text Markup Language",
                "High Tech Modern Language",
                "Hyper Transfer Markup Language",
                "Home Tool Markup Language"
            ],
            correct: 0
        },
        {
            question: "Which tag is used to create a hyperlink in HTML?",
            options: [
                "<link>",
                "<a>",
                "<href>",
                "<hyperlink>"
            ],
            correct: 1
        },
        {
            question: "Which HTML element is used for the largest heading?",
            options: [
                "<h6>",
                "<heading>",
                "<h1>",
                "<head>"
            ],
            correct: 2
        },
        {
            question: "What is the correct HTML element for inserting a line break?",
            options: [
                "<br>",
                "<break>",
                "<lb>",
                "<line>"
            ],
            correct: 0
        },
        {
            question: "Which attribute is used to specify that an input field must be filled out?",
            options: [
                "placeholder",
                "required",
                "validate",
                "necessary"
            ],
            correct: 1
        }
    ],
    2: [
        {
            question: "Which CSS property is used to change the background color?",
            options: [
                "color",
                "bgcolor",
                "background-color",
                "background"
            ],
            correct: 2
        },
        {
            question: "How do you add a comment in CSS?",
            options: [
                "// this is a comment //",
                "/* this is a comment */",
                "<!-- this is a comment -->",
                "' this is a comment"
            ],
            correct: 1
        },
        {
            question: "Which property is used to change the font of an element?",
            options: [
                "font-style",
                "font-weight",
                "font-family",
                "text-font"
            ],
            correct: 2
        },
        {
            question: "How do you select an element with id 'demo' in CSS?",
            options: [
                ".demo",
                "#demo",
                "*demo",
                "demo"
            ],
            correct: 1
        },
        {
            question: "Which property is used to change the left margin of an element?",
            options: [
                "padding-left",
                "margin-left",
                "indent",
                "spacing-left"
            ],
            correct: 1
        }
    ],
    3: [
        {
            question: "Which of the following is NOT a JavaScript data type?",
            options: [
                "string",
                "boolean",
                "character",
                "undefined"
            ],
            correct: 2
        },
        {
            question: "How do you create a function in JavaScript?",
            options: [
                "function = myFunction()",
                "function myFunction()",
                "function:myFunction()",
                "create myFunction()"
            ],
            correct: 1
        },
        {
            question: "Which operator is used to assign a value to a variable?",
            options: [
                "=",
                "==",
                "===",
                ":="
            ],
            correct: 0
        },
        {
            question: "How do you write an IF statement in JavaScript?",
            options: [
                "if (i == 5)",
                "if i = 5 then",
                "if i == 5 then",
                "if i = 5"
            ],
            correct: 0
        },
        {
            question: "Which method can be used to display data in JavaScript?",
            options: [
                "console.log()",
                "print()",
                "display()",
                "write()"
            ],
            correct: 0
        }
    ]
};
        // DOM Elements
        const loginBtn = document.getElementById('loginBtn');
        const signupBtn = document.getElementById('signupBtn');
        const loginModal = document.getElementById('loginModal');
        const signupModal = document.getElementById('signupModal');
        const closeModalButtons = document.querySelectorAll('.close-modal');
        const switchToSignup = document.getElementById('switchToSignup');
        const switchToLogin = document.getElementById('switchToLogin');
        const themeToggle = document.getElementById('themeToggle');
        const allCoursesGrid = document.getElementById('allCourses');
        const recommendedCoursesGrid = document.getElementById('recommendedCourses');
        const courseContentPage = document.getElementById('courseContentPage');
        const mainContent = document.querySelector('main');
        const loginForm = document.getElementById('loginForm');
        const signupForm = document.getElementById('signupForm');
        const quizContainer = document.getElementById('quizContainer');
        const quizContent = document.getElementById('quizContent');
        const submitQuizBtn = document.getElementById('submitQuizBtn');
        const nextLessonBtn = document.getElementById('nextLessonBtn');
        const prevLessonBtn = document.getElementById('prevLessonBtn');
        const backToCoursesBtn = document.getElementById('backToCoursesBtn');
        const homeBtn = document.getElementById('homeBtn');
        const homeNav = document.getElementById('homeNav');
        const coursesNav = document.getElementById('coursesNav');
        const dashboardNav = document.getElementById('dashboardNav');
        const aboutNav = document.getElementById('aboutNav');
        const dashboardSection = document.getElementById('dashboard');
        const allCoursesSection = document.getElementById('allCoursesSection');
        const enrolledCount = document.getElementById('enrolledCount');
        const completedCount = document.getElementById('completedCount');
        const hoursLearned = document.getElementById('hoursLearned');
        const courseProgressBar = document.getElementById('courseProgressBar');

        // Current state
        let currentUser = null;
        let currentCourse = null;
        let currentLessonIndex = 0;
        let currentQuiz = null;
        let userAnswers = [];

        // Initialize the application
        function init() {
            renderCourses();
            setupEventListeners();
            checkLoggedInUser();
            generateAIRecommendations();
        }

        // Render all courses
function renderCourses() {
    allCoursesGrid.innerHTML = '';
    
    courses.forEach(course => {
        // Calculate progress for this course
        let progress = 0;
        if (currentUser && currentUser.progress && currentUser.progress[course.id]) {
            progress = currentUser.progress[course.id];
        } else {
            progress = course.progress;
        }
        
        const courseCard = document.createElement('div');
        courseCard.className = 'course-card';
        courseCard.innerHTML = `
            <div class="course-image" style="background-color: ${course.color}20; color: ${course.color}">
                <i class="${course.icon}"></i>
            </div>
            <div class="course-content">
                <span class="course-category">${course.category}</span>
                <h3 class="course-title">${course.title}</h3>
                <p>${course.description}</p>
                <div class="course-info">
                    <span><i class="far fa-clock"></i> ${course.duration}</span>
                    <span><i class="far fa-list-alt"></i> ${course.lessons} lessons</span>
                </div>
                <div class="progress-container">
                    <div class="progress-info">
                        <span>Progress: ${progress}%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress" style="width: ${progress}%"></div>
                    </div>
                </div>
                <div class="course-actions">
                    <button class="btn btn-outline continue-btn" data-id="${course.id}">
                        ${progress > 0 ? 'Continue' : 'Start'}
                    </button>
                    <button class="btn btn-primary view-btn" data-id="${course.id}">View</button>
                </div>
            </div>
        `;
        allCoursesGrid.appendChild(courseCard);
    });

    // Add event listeners to course buttons
    document.querySelectorAll('.continue-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const courseId = parseInt(this.getAttribute('data-id'));
            openCourse(courseId);
        });
    });

    document.querySelectorAll('.view-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const courseId = parseInt(this.getAttribute('data-id'));
            openCourse(courseId, true);
        });
    });
}

// Generate AI recommendations based on user interests and progress
function generateAIRecommendations() {
    // In a real app, this would use more sophisticated AI algorithms
    // For this demo, we'll simulate recommendations based on course categories
    recommendedCoursesGrid.innerHTML = '';
    
    let recommendedCourses = [];
    
    if (currentUser && currentUser.interests) {
        // If user has interests, recommend courses in those categories
        const interests = currentUser.interests.split(',').map(i => i.trim().toLowerCase());
        
        recommendedCourses = courses.filter(course => {
            return interests.some(interest => 
                course.category.toLowerCase().includes(interest) || 
                course.title.toLowerCase().includes(interest)
            );
        });
    }
    
    // If no user or no specific interests, show popular courses
    if (recommendedCourses.length === 0) {
        recommendedCourses = courses.filter(course => 
            course.category === "Web Development" || 
            course.category === "Programming"
        ).slice(0, 3);
    }
    
    // Ensure we have at least 3 recommendations
    while (recommendedCourses.length < 3) {
        const randomCourse = courses[Math.floor(Math.random() * courses.length)];
        if (!recommendedCourses.includes(randomCourse)) {
            recommendedCourses.push(randomCourse);
        }
    }
    
    // Render recommended courses
    recommendedCourses.forEach(course => {
        // Calculate progress for this course
        let progress = 0;
        if (currentUser && currentUser.progress && currentUser.progress[course.id]) {
            progress = currentUser.progress[course.id];
        } else {
            progress = course.progress;
        }
        
        const courseCard = document.createElement('div');
        courseCard.className = 'course-card';
        courseCard.innerHTML = `
            <div class="course-image" style="background-color: ${course.color}20; color: ${course.color}">
                <i class="${course.icon}"></i>
            </div>
            <div class="course-content">
                <span class="course-category">${course.category}</span>
                <h3 class="course-title">${course.title}</h3>
                <p>${course.description}</p>
                <div class="course-info">
                    <span><i class="far fa-clock"></i> ${course.duration}</span>
                    <span><i class="far fa-list-alt"></i> ${course.lessons} lessons</span>
                </div>
                <div class="progress-container">
                    <div class="progress-info">
                        <span>Progress: ${progress}%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress" style="width: ${progress}%"></div>
                    </div>
                </div>
                <div class="course-actions">
                    <button class="btn btn-outline continue-btn" data-id="${course.id}">
                        ${progress > 0 ? 'Continue' : 'Start'}
                    </button>
                    <button class="btn btn-primary view-btn" data-id="${course.id}">View</button>
                </div>
            </div>
        `;
        recommendedCoursesGrid.appendChild(courseCard);
    });

    // Add event listeners to recommended course buttons
    document.querySelectorAll('.continue-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const courseId = parseInt(this.getAttribute('data-id'));
            openCourse(courseId);
        });
    });

    document.querySelectorAll('.view-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const courseId = parseInt(this.getAttribute('data-id'));
            openCourse(courseId, true);
        });
    });
}


        // Open a course
        function openCourse(courseId, viewOnly = false) {
            currentCourse = courses.find(c => c.id === courseId);
            
            if (!currentCourse) return;
            
            // Update course page title and description
            document.getElementById('courseTitle').textContent = currentCourse.title;
            document.getElementById('courseDescription').textContent = currentCourse.description;
            
            // Update progress bar
            const progress = currentUser && currentUser.progress && currentUser.progress[courseId] ? currentUser.progress[courseId] : 0;
            courseProgressBar.style.width = `${progress}%`;
            
            // Generate lessons list
            const lessonsList = document.getElementById('lessonsList');
            lessonsList.innerHTML = '';
            
            for (let i = 1; i <= currentCourse.lessons; i++) {
                const lessonItem = document.createElement('div');
                lessonItem.className = `lesson-item ${i === 1 ? 'active' : ''}`;
                lessonItem.textContent = `Lesson ${i}: ${getLessonTitle(currentCourse.id, i)}`;
                lessonItem.setAttribute('data-lesson', i);
                
                lessonItem.addEventListener('click', function() {
                    document.querySelectorAll('.lesson-item').forEach(item => {
                        item.classList.remove('active');
                    });
                    this.classList.add('active');
                    loadLesson(parseInt(this.getAttribute('data-lesson')));
                });
                
                lessonsList.appendChild(lessonItem);
            }
            
            // Show course content page and hide main content
            mainContent.style.display = 'none';
            courseContentPage.style.display = 'block';
            quizContainer.style.display = 'none';
            
            // Load the first lesson
            loadLesson(1);
        }

        // Get lesson title based on course and lesson number
        function getLessonTitle(courseId, lessonNumber) {
            const lessonTitles = {
                1: {
                    1: "HTML Basics and Structure",
                    2: "HTML Tags and Elements",
                    3: "Creating Links and Navigation",
                    4: "Working with Images and Media",
                    5: "HTML Forms and Input Elements",
                    6: "Semantic HTML and Best Practices"
                },
                2: {
                    1: "CSS Fundamentals",
                    2: "Selectors and Specificity",
                    3: "Box Model and Layout",
                    4: "Flexbox Layout",
                    5: "CSS Grid Layout",
                    6: "Responsive Design",
                    7: "Transforms and Transitions",
                    8: "CSS Animations"
                },
                3: {
                    1: "JavaScript Introduction",
                    2: "Variables and Data Types",
                    3: "Operators and Expressions",
                    4: "Control Structures",
                    5: "Functions",
                    6: "Arrays",
                    7: "Objects",
                    8: "DOM Manipulation Basics",
                    9: "Event Handling",
                    10: "ES6+ Features"
                }
            };
            
            return lessonTitles[courseId]?.[lessonNumber] || `Lesson ${lessonNumber}: ${courses.find(c => c.id === courseId)?.title} Content`;
        }

        // Load a specific lesson
        function loadLesson(lessonNumber) {
            currentLessonIndex = lessonNumber;
            
            // Update lesson title
            document.getElementById('lessonTitle').textContent = getLessonTitle(currentCourse.id, lessonNumber);
            
            // Generate lesson content
            const lessonMaterial = document.getElementById('lessonMaterial');
            lessonMaterial.innerHTML = generateLessonContent(currentCourse.id, lessonNumber);
            
            // Update navigation buttons
            prevLessonBtn.style.display = lessonNumber > 1 ? 'inline-block' : 'none';
            
            if (lessonNumber < currentCourse.lessons) {
                nextLessonBtn.textContent = 'Next Lesson';
                nextLessonBtn.onclick = goToNextLesson;
            } else {
                nextLessonBtn.textContent = 'Take Quiz Now';
                nextLessonBtn.onclick = startQuiz;
            }
            
            // Scroll to top of lesson content
            document.querySelector('.lesson-content').scrollTop = 0;
        }

        // Generate lesson content based on course and lesson
        function generateLessonContent(courseId, lessonNumber) {
            // In a real application, this would come from a database
            // For this demo, we'll generate placeholder content
            
            let content = '';
            
            if (courseId === 1) { // HTML course
                switch(lessonNumber) {
                    case 1:
                        content = `
                            <h3>What is HTML?</h3>
                            <p>HTML (HyperText Markup Language) is the standard markup language for creating web pages. It describes the structure of a web page and consists of a series of elements that tell the browser how to display the content.</p>
                            
                            <h3>Basic HTML Document Structure</h3>
                            <pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Page Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;My First Heading&lt;/h1&gt;
    &lt;p&gt;My first paragraph.&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
                            
                            <h3>Key Points</h3>
                            <ul>
                                <li>HTML is not a programming language; it's a markup language</li>
                                <li>HTML uses tags to define elements</li>
                                <li>HTML documents are saved with .html extension</li>
                                <li>All modern browsers can render HTML</li>
                            </ul>
                        `;
                        break;
                    case 2:
                        content = `
                            <h3>HTML Tags and Elements</h3>
                            <p>HTML elements are defined by tags, which are enclosed in angle brackets. Most elements have an opening tag and a closing tag, with content in between.</p>
                            
                            <h3>Common HTML Tags</h3>
                            <ul>
                                <li><code>&lt;h1&gt; to &lt;h6&gt;</code> - Headings</li>
                                <li><code>&lt;p&gt;</code> - Paragraphs</li>
                                <li><code>&lt;a&gt;</code> - Links</li>
                                <li><code>&lt;img&gt;</code> - Images</li>
                                <li><code>&lt;ul&gt;, &lt;ol&gt;, &lt;li&gt;</code> - Lists</li>
                                <li><code>&lt;div&gt;</code> - Division or section</li>
                                <li><code>&lt;span&gt;</code> - Inline container</li>
                            </ul>
                            
                            <h3>Example</h3>
                            <pre><code>&lt;h1&gt;This is a heading&lt;/h1&gt;
&lt;p&gt;This is a paragraph.&lt;/p&gt;
&lt;a href="https://www.example.com"&gt;This is a link&lt;/a&gt;</code></pre>
                        `;
                        break;
                    default:
                        content = `
                            <h3>${getLessonTitle(courseId, lessonNumber)}</h3>
                            <p>This lesson covers important concepts related to ${courses.find(c => c.id === courseId)?.title}.</p>
                            <p>In a complete implementation, this would include detailed explanations, examples, and interactive elements to help you master the topic.</p>
                            <p>For now, imagine you're learning valuable skills that will help you in your development journey!</p>
                        `;
                }
            } else {
                content = `
                    <h3>${getLessonTitle(courseId, lessonNumber)}</h3>
                    <p>Welcome to lesson ${lessonNumber} of ${courses.find(c => c.id === courseId)?.title}. This lesson covers important concepts that will build your understanding of the subject.</p>
                    <p>In a fully implemented platform, you would find detailed content, code examples, diagrams, and interactive exercises here.</p>
                    <p>Continue through the lessons to build your knowledge step by step.</p>
                `;
            }
            
            return content;
        }

        // Navigate to the next lesson
        function goToNextLesson() {
            if (currentLessonIndex < currentCourse.lessons) {
                document.querySelectorAll('.lesson-item').forEach(item => {
                    item.classList.remove('active');
                });
                document.querySelector(`.lesson-item[data-lesson="${currentLessonIndex + 1}"]`).classList.add('active');
                loadLesson(currentLessonIndex + 1);
                
                // Update user progress
                if (currentUser) {
                    const progress = Math.round((currentLessonIndex / currentCourse.lessons) * 100);
                    if (!currentUser.progress) currentUser.progress = {};
                    currentUser.progress[currentCourse.id] = progress;
                    
                    // Save to localStorage
                    const users = JSON.parse(localStorage.getItem('users')) || [];
                    const userIndex = users.findIndex(u => u.id === currentUser.id);
                    if (userIndex !== -1) {
                        users[userIndex] = currentUser;
                        localStorage.setItem('users', JSON.stringify(users));
                        localStorage.setItem('currentUser', JSON.stringify(currentUser));
                    }
                    
                    // Update progress bar
                    courseProgressBar.style.width = `${progress}%`;
                }
            }
        }

        // Navigate to the previous lesson
        function goToPrevLesson() {
            if (currentLessonIndex > 1) {
                document.querySelectorAll('.lesson-item').forEach(item => {
                    item.classList.remove('active');
                });
                document.querySelector(`.lesson-item[data-lesson="${currentLessonIndex - 1}"]`).classList.add('active');
                loadLesson(currentLessonIndex - 1);
            }
        }

        // Start the quiz for the current course
function startQuiz() {
    currentQuiz = quizzes[currentCourse.id] || generateSampleQuiz();
    userAnswers = new Array(currentQuiz.length).fill(null);
    
    // Hide lesson content and show quiz
    document.querySelector('.lesson-content').style.display = 'none';
    quizContainer.style.display = 'block';
    
    // Render all questions
    renderQuiz();
}

// Render the quiz with all questions
// Render the quiz with all questions
function renderQuiz() {
    quizContent.innerHTML = '';
    
    currentQuiz.forEach((question, index) => {
        // Validate question data
        if (!question.options || question.options.length === 0) {
            console.warn(`Question ${index + 1} has no options, using fallback`);
            question.options = [
                "Option A - Please check quiz data",
                "Option B - Please check quiz data", 
                "Option C - Please check quiz data",
                "Option D - Please check quiz data"
            ];
        }
        
        const questionElement = document.createElement('div');
        questionElement.className = 'quiz-question';
        questionElement.innerHTML = `
            <h3>Question ${index + 1}</h3>
            <p><strong>${question.question || `Question ${index + 1} about ${currentCourse.title}`}</strong></p>
            <ul class="quiz-options" id="options-${index}">
                ${question.options.map((option, optIndex) => `
                    <li class="${userAnswers[index] === optIndex ? 'selected' : ''}" 
                        data-question="${index}" data-option="${optIndex}">
                        ${String.fromCharCode(65 + optIndex)}. ${option || `Option ${String.fromCharCode(65 + optIndex)}`}
                    </li>
                `).join('')}
            </ul>
        `;
        quizContent.appendChild(questionElement);
        
        // Add event listeners to options
        document.querySelectorAll(`#options-${index} li`).forEach(option => {
            option.addEventListener('click', function() {
                const questionIndex = parseInt(this.getAttribute('data-question'));
                const selectedOption = parseInt(this.getAttribute('data-option'));
                userAnswers[questionIndex] = selectedOption;
                
                // Update UI
                document.querySelectorAll(`#options-${questionIndex} li`).forEach(li => {
                    li.classList.remove('selected');
                });
                this.classList.add('selected');
                
                // Enable submit button if all questions are answered
                const allAnswered = userAnswers.every(answer => answer !== null);
                submitQuizBtn.disabled = !allAnswered;
            });
        });
    });
    
    // Scroll to top of quiz
    quizContent.scrollTop = 0;
}

// Validate all quiz data
function validateQuizData() {
    Object.keys(quizzes).forEach(courseId => {
        quizzes[courseId].forEach((question, index) => {
            if (!question.options || question.options.length < 4) {
                console.error(`Invalid quiz data for course ${courseId}, question ${index + 1}`);
                // Add fallback options
                question.options = [
                    "Option A",
                    "Option B",
                    "Option C", 
                    "Option D"
                ];
            }
            
            if (question.correct === undefined || question.correct < 0 || question.correct > 3) {
                console.error(`Invalid correct answer for course ${courseId}, question ${index + 1}`);
                question.correct = 0; // Default to first option
            }
        });
    });
}

// Call this in init function
function init() {
    validateQuizData();
    renderCourses();
    setupEventListeners();
    checkLoggedInUser();
    generateAIRecommendations();
}
        // Submit the quiz and show results
function submitQuiz() {
    // Calculate score
    let correctAnswers = 0;
    currentQuiz.forEach((question, index) => {
        if (userAnswers[index] === question.correct) {
            correctAnswers++;
        }
    });
    
    const score = (correctAnswers / currentQuiz.length) * 100;
    const passed = score >= 80;
    
    // Show results
    quizContent.innerHTML = `
        <div class="quiz-results">
            <h3>Quiz Results</h3>
            <div class="score-display">
                <p>You scored <strong>${correctAnswers} out of ${currentQuiz.length}</strong> (${score.toFixed(1)}%)</p>
                <p class="${passed ? 'text-success' : 'text-danger'}">
                    ${passed ? ' Congratulations! You passed the quiz!' : ' Sorry, you did not pass. Please try again.'}
                </p>
            </div>
            
            ${passed ? `
                <div class="quiz-success">
                    <i class="fas fa-trophy fa-3x" style="color: gold; margin: 20px 0;"></i>
                    <h3>Course Completed! </h3>
                    <p>You've successfully completed <strong>${currentCourse.title}</strong></p>
                    <button class="btn btn-primary" id="backToCoursesFromQuiz">Back to Courses</button>
                </div>
            ` : `
                <div class="quiz-retake">
                    <button class="btn btn-primary" id="retakeQuizBtn">Retake Quiz</button>
                </div>
            `}
        </div>
    `;
    
    // Add event listeners
    if (passed) {
        document.getElementById('backToCoursesFromQuiz').addEventListener('click', backToCourses);
        
        // Update user progress
        if (currentUser) {
            // Enroll user in course if not already enrolled
            if (!currentUser.enrolledCourses) currentUser.enrolledCourses = [];
            if (!currentUser.enrolledCourses.includes(currentCourse.id)) {
                currentUser.enrolledCourses.push(currentCourse.id);
            }
            
            // Mark course as completed
            if (!currentUser.completedCourses) currentUser.completedCourses = [];
            if (!currentUser.completedCourses.includes(currentCourse.id)) {
                currentUser.completedCourses.push(currentCourse.id);
            }
            
            // Update progress
            if (!currentUser.progress) currentUser.progress = {};
            currentUser.progress[currentCourse.id] = 100;
            
            // Save to localStorage
            const users = JSON.parse(localStorage.getItem('users')) || [];
            const userIndex = users.findIndex(u => u.id === currentUser.id);
            if (userIndex !== -1) {
                users[userIndex] = currentUser;
                localStorage.setItem('users', JSON.stringify(users));
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
            }
            
            // Update dashboard
            updateDashboard();
        }
    } else {
        document.getElementById('retakeQuizBtn').addEventListener('click', () => {
            userAnswers = new Array(currentQuiz.length).fill(null);
            renderQuiz();
            submitQuizBtn.disabled = true;
        });
    }
}

        // Generate a sample quiz for courses without predefined quizzes
function generateSampleQuiz() {
    const courseTitle = currentCourse ? currentCourse.title : "this course";
    
    return [
        {
            question: `What is the main purpose of ${courseTitle}?`,
            options: [
                "To create dynamic web applications",
                "To style web pages",
                "To manage databases",
                "To implement security protocols"
            ],
            correct: 0
        },
        {
            question: `Which concept is fundamental to ${courseTitle}?`,
            options: [
                "Variables and data types",
                "Color theory",
                "Network protocols",
                "User authentication"
            ],
            correct: 0
        },
        {
            question: `In ${courseTitle}, what is a key benefit of learning this technology?`,
            options: [
                "Creating interactive websites",
                "Designing mobile apps",
                "Managing servers",
                "Analyzing data"
            ],
            correct: 0
        },
        {
            question: `Which tool is commonly used in ${courseTitle}?`,
            options: [
                "Web browser",
                "Photo editor",
                "Database server",
                "Network analyzer"
            ],
            correct: 0
        },
        {
            question: `What does the acronym in ${courseTitle} stand for?`,
            options: [
                "HyperText Markup Language",
                "High-Level Programming Language",
                "Hardware Testing Method Library",
                "Human-Computer Interaction Model"
            ],
            correct: 0
        }
    ];
}

        // Go back to the courses page
        function backToCourses() {
            courseContentPage.style.display = 'none';
            mainContent.style.display = 'block';
            generateAIRecommendations();
        }

        // Setup event listeners
        function setupEventListeners() {
            // Modal controls
            loginBtn.addEventListener('click', () => loginModal.style.display = 'flex');
            signupBtn.addEventListener('click', () => signupModal.style.display = 'flex');
            
            closeModalButtons.forEach(button => {
                button.addEventListener('click', () => {
                    loginModal.style.display = 'none';
                    signupModal.style.display = 'none';
                });
            });
            
            switchToSignup.addEventListener('click', (e) => {
                e.preventDefault();
                loginModal.style.display = 'none';
                signupModal.style.display = 'flex';
            });
            
            switchToLogin.addEventListener('click', (e) => {
                e.preventDefault();
                signupModal.style.display = 'none';
                loginModal.style.display = 'flex';
            });
            
            // Theme toggle
            themeToggle.addEventListener('click', toggleTheme);
            
            // Form submissions
            loginForm.addEventListener('submit', handleLogin);
            signupForm.addEventListener('submit', handleSignup);
            
            // Course navigation
            nextLessonBtn.addEventListener('click', goToNextLesson);
            prevLessonBtn.addEventListener('click', goToPrevLesson);
            backToCoursesBtn.addEventListener('click', backToCourses);
            
            // Quiz navigation
            submitQuizBtn.addEventListener('click', submitQuiz);
            
            // Navigation
            homeBtn.addEventListener('click', showHome);
            homeNav.addEventListener('click', showHome);
            coursesNav.addEventListener('click', showCourses);
            dashboardNav.addEventListener('click', showDashboard);
            aboutNav.addEventListener('click', showAbout);
            
            // Footer navigation
            document.querySelectorAll('.footer-nav').forEach(nav => {
                nav.addEventListener('click', function(e) {
                    e.preventDefault();
                    const target = this.getAttribute('data-target');
                    if (target === 'home') showHome();
                    if (target === 'courses') showCourses();
                    if (target === 'dashboard') showDashboard();
                    if (target === 'about') showAbout();
                });
            });
            
            // Close modals when clicking outside
            window.addEventListener('click', (e) => {
                if (e.target === loginModal) loginModal.style.display = 'none';
                if (e.target === signupModal) signupModal.style.display = 'none';
            });
        }

        // Navigation functions
        function showHome() {
            mainContent.style.display = 'block';
            courseContentPage.style.display = 'none';
            updateActiveNav('home');
        }
        
        function showCourses() {
            mainContent.style.display = 'block';
            courseContentPage.style.display = 'none';
            updateActiveNav('courses');
            // Scroll to courses section
            document.getElementById('allCoursesSection').scrollIntoView({ behavior: 'smooth' });
        }
        
        function showDashboard() {
            if (currentUser) {
                mainContent.style.display = 'block';
                courseContentPage.style.display = 'none';
                updateActiveNav('dashboard');
                // Show dashboard and hide other sections temporarily
                document.getElementById('dashboard').style.display = 'block';
                document.querySelector('.ai-recommendations').style.display = 'none';
                document.getElementById('allCoursesSection').style.display = 'none';
            } else {
                alert('Please log in to view your dashboard.');
                loginModal.style.display = 'flex';
            }
        }
        
        function showAbout() {
            alert('About LearnHub: This is a demo e-learning platform created to showcase responsive design and interactive features.');
            updateActiveNav('about');
        }
        
        function updateActiveNav(active) {
            document.querySelectorAll('nav a').forEach(nav => {
                nav.classList.remove('active');
            });
            
            if (active === 'home') homeNav.classList.add('active');
            if (active === 'courses') coursesNav.classList.add('active');
            if (active === 'dashboard') dashboardNav.classList.add('active');
            if (active === 'about') aboutNav.classList.add('active');
        }

        // Toggle between light and dark mode
        function toggleTheme() {
            document.body.classList.toggle('dark-mode');
            const icon = themeToggle.querySelector('i');
            if (document.body.classList.contains('dark-mode')) {
                icon.className = 'fas fa-sun';
            } else {
                icon.className = 'fas fa-moon';
            }
            
            // Save theme preference
            localStorage.setItem('theme', document.body.classList.contains('dark-mode') ? 'dark' : 'light');
        }

        // Handle user login
        function handleLogin(e) {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            // In a real app, this would validate against a backend
            // For this demo, we'll use localStorage
            const users = JSON.parse(localStorage.getItem('users')) || [];
            const user = users.find(u => u.email === email && u.password === password);
            
            if (user) {
                currentUser = user;
                localStorage.setItem('currentUser', JSON.stringify(user));
                loginModal.style.display = 'none';
                updateUIForUser();
                generateAIRecommendations();
                updateDashboard();
                alert('Login successful!');
            } else {
                alert('Invalid email or password. Please try again.');
            }
        }

        // Handle user signup
        function handleSignup(e) {
            e.preventDefault();
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            const interests = document.getElementById('signupInterests').value;
            
            // In a real app, this would send data to a backend
            // For this demo, we'll use localStorage
            const users = JSON.parse(localStorage.getItem('users')) || [];
            
            // Check if user already exists
            if (users.find(u => u.email === email)) {
                alert('User with this email already exists.');
                return;
            }
            
            // Create new user
            const newUser = {
                id: Date.now(),
                name,
                email,
                password,
                interests,
                enrolledCourses: [],
                completedCourses: [],
                progress: {}
            };
            
            users.push(newUser);
            localStorage.setItem('users', JSON.stringify(users));
            
            // Log the user in
            currentUser = newUser;
            localStorage.setItem('currentUser', JSON.stringify(newUser));
            signupModal.style.display = 'none';
            updateUIForUser();
            generateAIRecommendations();
            updateDashboard();
            
            alert('Account created successfully!');
        }

        // Check if user is logged in
        function checkLoggedInUser() {
            const userData = localStorage.getItem('currentUser');
            if (userData) {
                currentUser = JSON.parse(userData);
                updateUIForUser();
                updateDashboard();
            }
            
            // Check for saved theme
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-mode');
                const icon = themeToggle.querySelector('i');
                icon.className = 'fas fa-sun';
            }
        }

        // Update UI based on user login status
        function updateUIForUser() {
            if (currentUser) {
                loginBtn.textContent = currentUser.name;
                signupBtn.textContent = 'Logout';
                
                // Change signup button to logout functionality
                signupBtn.removeEventListener('click', () => signupModal.style.display = 'flex');
                signupBtn.addEventListener('click', handleLogout);
                
                // Show dashboard section
                dashboardSection.style.display = 'block';
            } else {
                loginBtn.textContent = 'Login';
                signupBtn.textContent = 'Sign Up';
                
                // Revert to original functionality
                signupBtn.removeEventListener('click', handleLogout);
                signupBtn.addEventListener('click', () => signupModal.style.display = 'flex');
                
                // Hide dashboard section
                dashboardSection.style.display = 'none';
            }
        }

        // Update dashboard with user progress
        // Update dashboard with user progress
function updateDashboard() {
    if (currentUser) {
        // Calculate stats
        const enrolledCourses = currentUser.enrolledCourses || [];
        const completedCourses = currentUser.completedCourses || [];
        const enrolled = enrolledCourses.length;
        const completed = completedCourses.length;
        const hours = completed * 5; // Estimate 5 hours per completed course
        
        // Update dashboard
        enrolledCount.textContent = enrolled;
        completedCount.textContent = completed;
        hoursLearned.textContent = hours;
        
        // Update badges
        const badgesContainer = document.getElementById('badgesContainer');
        badgesContainer.innerHTML = '';
        
        if (completed > 0) {
            badgesContainer.innerHTML = `
                <div class="badge">
                    <i class="fas fa-medal"></i>
                    <p>First Course</p>
                </div>
            `;
            
            if (completed >= 3) {
                badgesContainer.innerHTML += `
                    <div class="badge">
                        <i class="fas fa-trophy"></i>
                        <p>Course Explorer</p>
                    </div>
                `;
            }
            
            if (completed >= 5) {
                badgesContainer.innerHTML += `
                    <div class="badge">
                        <i class="fas fa-award"></i>
                        <p>Learning Champion</p>
                    </div>
                `;
            }
        } else {
            badgesContainer.innerHTML = `
                <div class="badge-placeholder">
                    <p>Complete courses to earn badges</p>
                </div>
            `;
        }
        
        // Refresh courses to show updated progress
        renderCourses();
        generateAIRecommendations();
    }
}

        // Handle user logout
        function handleLogout() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            updateUIForUser();
            generateAIRecommendations();
            // Reset main content view
            showHome();
            alert('You have been logged out.');
        }

        // Initialize the application when the DOM is loaded
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
